# TDengine迁移基于taosX

## 迁移前确认
1. 目标数据库与源数据库基础性能一致，或大于源数据库。
2. 目标数据库与源数据库网络畅通。
3. 写入和读取应用到目标数据库网络畅通。

## 迁移基本步骤
1. 源数据库停止 DDL 操作；
2. taosX 同步数据到目标库，截止时间点 Ta；
3. 验证目标库数据；
4. taosX 同步增量数据到目标库，截止时间点 Tb；
5. 写入应用割接，截止时间点 Tc；
6. 读取应用割接；
7. taosX 同步 Tb-Tc 时间段数据到目标库，截止时间点 Td。

## 业务影响
基于以上迁移步骤，业务仅在 Tc-Td 时间段受到影响.
具体表现为: 
-    - 查询 Tb-Tc 时间段数据会不完整或缺失。
-    - Tc-Td 时间段因同步增量数据，查询和写入可能会有所延迟（取决于 Tb-Tc 时间段数据量）。

## 注意事项
- taosX 无法同步 DDL 操作（可以同步新增的表及数据内容，但是对于删除的表、update的数据、delete的数据、修改的标签无法处理），因此开始同步时，需要停止 DDL 操作。
- taosX 写入速度非常快，对网络和磁盘 IO 负载极大。
- 如果源数据库无法停止 DDL 操作，需要割接后手动处理。